{% extends "base.html" %}

{% block content %}
<p>Hello, Mark</p>

<p>Add Transaction</p>

<form action="/transactions" method="POST">

    <label for="merchant">Merchant</label>
    <input type="text" id="merchant" name="merchant" placeholder="Merchant Name">

    <label for="amount">Amount</label>
    <input type="number" step="0.1" id="amount" name="amount" placeholder="Amount" required>

    <input type="date" id="date" name="date">

    <input list="tag-list" id="tag" name="tag" placeholder="Select a category" required>

    <datalist id="tag-list">
        <option value="General">
        <option value="Groceries">
        <option value="Eating Out">
        <option value="Transportation">
        <option value="Auto Care">
        <option value="Takeaway">
        <option value="Entertainment">
        <option value="Shopping">
        <option value="Personal Care">
        <option value="Holidays">
    </datalist>

    <input type="submit" value="Add Transaction">

</form>

<p>All Transactions</p>
<br>
<hr>

    {% for transaction in transactions %}

        <div class="transactions-container">
            <div class="transaction-info">
                <p>{{ transaction.merchant.name }}</p>
                <p>{{ transaction.date }}</p>
                <p>{{ transaction.tag }}</p>
            </div>

            <a href="/transactions/{{transaction.id}}"><button>More Info</button></a>

            <!-- <form action="/transactions/{{transaction.id}}/delete" method="POST">
                <button type="submit">Remove</button>
            </form> -->

            <div class="transaction-amount">
                <p>Â£{{ transaction.amount }}</p>
            </div>
            <hr>
        </div>
        
    {% endfor %}

    <p>Total: {{ total }}</p>

{% endblock %}