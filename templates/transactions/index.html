{% extends "base.html" %}

{% block content %}
<p>Hello, Mark</p>

<p>Add Transaction</p>

<form action="/transactions" method="POST">
    <label for="merchant">Merchant</label>
    <input type="text" id="merchant" name="merchant" placeholder="Merchant Name">

    <label for="amount">Amount</label>
    <input type="number" step="0.1" id="amount" name="amount" placeholder="Amount">

    <label for="tag">Tag</label>
    <select id="tag" name="tag">
        <option value="" selected disabled>Select a category</option>
        <option value="general">General Expenses</option>
        <option value="groceries">Groceries</option>
        <option value="eating-out">Eating Out</option>
        <option value="transportation">Transportation</option>
        <option value="takeaway">Takeaway</option>
        <option value="entertainment">Entertainment</option>
        <option value="shopping">Shopping</option>
        <option value="personal-care">Personal Care</option>
        <option value="gifts">Gifts</option>
        <option value="holidays">Holidays</option>
    </select>

    <input type="submit" value="Add Transaction">
</form>

<p>All Transactions</p>
<br>
<hr>

    {% for transaction in transactions %}

        <div class="transactions-container">
            <div class="transaction-info">
                <p>{{ transaction.merchant.name }}</p>
                <p>{{ transaction.tag }}</p>
            </div>

            <a href="/transactions/{{transaction.id}}"><button>More Info</button></a>


            <!-- <form action="/transactions/{{transaction.id}}/delete" method="POST">
                <button type="submit">Remove</button>
            </form> -->

            <div class="transaction-amount">
                <p>Â£{{ transaction.amount }}</p>
            </div>
            <hr>
        </div>
        
    {% endfor %}

{% endblock %}